import java.util.*;

public class MarksCalculator {
    public static void main() {
        Scanner scanner = new Scanner(System.in);
        String[] subjects = {"Physics", "Chemistry", "Maths", "Biology", "History", "Geography", "English-1", "English-2", "Second Language", "Computers"};
        double[] marks = new double[10];
        List<Double> percentages = new ArrayList<>();

        // Input Marks
        System.out.println("\u001B[1;36mEnter marks obtained (out of 80 for most, 100 for Computers):\u001B[0m");
        for (int i = 0; i < 10; i++) {
            while (true) {
                System.out.print("\u001B[1;32m" + subjects[i] + " - \u001B[0m");
                while (!scanner.hasNextDouble()) {
                    System.out.println("\u001B[1;31mInvalid input. Please enter a numeric value.\u001B[0m");
                    System.out.print("\u001B[1;32m" + subjects[i] + " - \u001B[0m");
                    scanner.next();
                }
                marks[i] = scanner.nextDouble();
                if ((i == 9 && marks[i] <= 100) || (i != 9 && marks[i] <= 80)) {
                    break;
                } else {
                    System.out.println("\u001B[1;31mInvalid input. Please enter a valid mark.\u001B[0m");
                }
            }
        }

        // Convert marks to out of 100
        for (int i = 0; i < 9; i++) {
            marks[i] += 20;
        }
        marks[9] = (marks[9] + 100) / 2;

        // Calculate category averages
        double scienceAvg = (marks[0] + marks[1] + marks[3]) / 3;
        double mathsAvg = marks[2];
        double socialAvg = (marks[4] + marks[5]) / 2;
        double englishAvg = (marks[6] + marks[7]) / 2;
        double secondLangAvg = marks[8];
        double computersAvg = marks[9];

        double[] categoryAverages = {scienceAvg, mathsAvg, socialAvg, englishAvg, secondLangAvg, computersAvg};
        Arrays.sort(categoryAverages);
        for (int i = 0, j = categoryAverages.length - 1; i < j; i++, j--) {
            double temp = categoryAverages[i];
            categoryAverages[i] = categoryAverages[j];
            categoryAverages[j] = temp;
        }
        double top5Sum = 0;
        for (int i = 0; i < 5; i++) {
            top5Sum += categoryAverages[i];
        }
        double percentage = (top5Sum / 500) * 100;
        percentages.add(percentage);

        // Display Results
        System.out.println("\n\u001B[1;35mCalculated Averages:\u001B[0m");
        System.out.printf("Science (PCB): \u001B[1;33m%.2f\u001B[0m\n", scienceAvg);
        System.out.printf("Maths: \u001B[1;33m%.2f\u001B[0m\n", mathsAvg);
        System.out.printf("Social Studies: \u001B[1;33m%.2f\u001B[0m\n", socialAvg);
        System.out.printf("English: \u001B[1;33m%.2f\u001B[0m\n", englishAvg);
        System.out.printf("Second Language: \u001B[1;33m%.2f\u001B[0m\n", secondLangAvg);
        System.out.printf("Computers: \u001B[1;33m%.2f\u001B[0m\n", computersAvg);
        System.out.printf("\n\u001B[1;31mTotal Percentage: %.2f%%\u001B[0m\n", percentage);

        // Leaderboard Option
        System.out.println("\nPress 1 to view Leaderboard, or Enter to exit...");
        scanner.nextLine();
        String choice = scanner.nextLine();
        if ("1".equals(choice)) {
            System.out.println("\u001B[1;34mLeaderboard (Top Percentages):\u001B[0m");
            Collections.sort(percentages, Collections.reverseOrder());
            for (int i = 0; i < percentages.size(); i++) {
                System.out.printf("%d. \u001B[1;32m%.2f%%\u001B[0m\n", i + 1, percentages.get(i));
            }
        }
        scanner.close();
    }
}
